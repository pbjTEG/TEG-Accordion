/*
* TEG Accordion
*
* Add accordion folding to a block of HTML elements generated by a CMS.
*
* Author: Paul B. Joiner <paulj@engageyourcause.com>
* Copyright (c) 2022 PMG: The Engage Group
* License: MIT
*
* Release:
*   Branch: main
*   Tag:    0.1
*   Date:   20220829
*/
class TEGAccordion{#defaultOptions={categorySelector:".en__registrants__ticket",categoryHeadSelector:".en__registrants__ticketHead",groupSelector:".en__registrants__group",groupIsCatChild:!0,useAria:!0,openClass:"open",exclusive:!1};#memoInitTime=(new Date).getTime();#memoSequence=0;constructor(e){const a=this;a.options=Object.assign(a.#defaultOptions,e),document.querySelectorAll(a.options.categorySelector).forEach((t,o)=>{const s=t.querySelector(a.options.categoryHeadSelector)||document.querySelectorAll(a.options.categoryHeadSelector)[o]||t;if(s.addEventListener("click",()=>a.toggleGroup(a,s)),a.options.useAria){var i=a.getID(s),o=document.querySelectorAll(a.options.categoryHeadSelector)[o],o=(s.id=i,a.getID(o)),r=(s.setAttribute("aria-expanded","false"),s.getAttribute("id"));null===r&&(a.options.categoryHeadSelector.replace(/[^\w]/g,""),s.setAttribute("id",i));let e;(e=a.options.groupIsCatChild?t.querySelector(a.options.groupSelector):t.nextElementSibling).setAttribute("aria-labelledby",o);r=a.getID(e);e.id=r,s.setAttribute("aria-controls",r)}})}toggleGroup(t,e){var o;this.options.exclusive?(o=!e.classList.contains(t.options.openClass),document.querySelectorAll("."+t.options.openClass).forEach(e=>{e.classList.remove(t.options.openClass)}),o&&(e.classList.add(t.options.openClass),t.options.useAria&&e.setAttribute("aria-expanded","true"))):(e.classList.toggle(t.options.openClass),t.options.useAria&&e.setAttribute("aria-expanded",e.classList.contains("open")))}getID(e){return e.getAttribute("id")||"TEGA"+this.#memoInitTime+this.#memoSequence++}}
//# sourceMappingURL=teg-accordion.min.js.map